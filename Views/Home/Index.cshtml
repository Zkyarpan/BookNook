@model BookHive.Models.HomeViewModel
@{
    ViewData["Title"] = "Home";
}
<!-- Define CSS variables for theme colors (could also be in a shared CSS or _Layout) -->
<style>
    :root {
        --brand-color: #F59E0B; /* Amber 500 – primary brand color */
        --brand-color-hover: #D97706; /* Amber 600 – darker hover state */
    }
</style>

<div class="bg-white dark:bg-gray-900">
    @* Main page container *@
    <!-- Hero Banner -->
    <section class="hero bg-amber-100 text-gray-800 dark:text-gray-100
                   py-16 px-6 text-center md:text-left md:flex md:items-center md:justify-between">
        <div class="max-w-xl mx-auto md:mx-0">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Welcome to <span class="text-amber-600">BookNook</span></h1>
            <p class="text-lg md:text-xl mb-6">
                Discover your next favorite book in our curated collection.
            </p>
            <a asp-controller="Books" asp-action="Index"
               class="inline-block bg-[var(--brand-color)] hover:bg-[var(--brand-color-hover)]
                      text-white font-semibold text-lg px-6 py-3 rounded shadow-lg
                      transition transform hover:scale-105">
                Browse Books
            </a>
        </div>
        <!-- (Optional) Hero image can be placed on the right side on desktop -->
        <div class="mt-8 md:mt-0 md:ml-8">
            <img src="~/images/hero-reading.png" alt="Person reading books" class="mx-auto md:mx-0 max-w-xs md:max-w-sm lg:max-w-md drop-shadow-xl" />
        </div>
    </section>

    <!-- On Sale Section (Carousel) -->
    <section class="on-sale py-12 px-6">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6">On Sale 📚</h2>
        <!-- Carousel container: horizontally scrollable list of books on sale -->
        <div class="relative">
            <!-- Slider track -->
            <div class="flex space-x-4 overflow-x-auto scroll-smooth snap-x snap-mandatory
                        pb-4 scrollbar-hide">
                @foreach (var book in Model.OnSaleBooks)
                {
                    <div class="snap-start flex-shrink-0 bg-white dark:bg-gray-800 rounded-lg shadow
                                overflow-hidden w-56 sm:w-64 transition transform hover:-translate-y-1 hover:shadow-lg">
                        <img src="@book.CoverImageUrl" alt="@book.Title cover" class="h-72 w-full object-cover" />
                        <div class="p-4">
                            <h3 class="font-semibold text-gray-800 dark:text-gray-100 text-lg mb-2">@book.Title</h3>
                            <p class="text-amber-600 font-bold">@book.Price.ToString("C") <span class="text-sm text-gray-500 line-through ml-2">@book.OriginalPrice.ToString("C")</span></p>
                        </div>
                    </div>
                }
            </div>
            <!-- Optional: Carousel navigation arrows (could be enhanced with JavaScript) -->
            <button class="hidden md:block absolute left-0 top-1/2 -translate-y-1/2 bg-gray-100/70 dark:bg-gray-700/70
                           p-3 rounded-full shadow hover:bg-gray-100 dark:hover:bg-gray-600" type="button"
                    aria-label="Scroll left" onclick="this.nextElementSibling.scrollBy({ left: -300, behavior: 'smooth' })">
                &#8592;
            </button>
            <button class="hidden md:block absolute right-0 top-1/2 -translate-y-1/2 bg-gray-100/70 dark:bg-gray-700/70
                           p-3 rounded-full shadow hover:bg-gray-100 dark:hover:bg-gray-600" type="button"
                    aria-label="Scroll right" onclick="this.previousElementSibling.scrollBy({ left: 300, behavior: 'smooth' })">
                &#8594;
            </button>
        </div>
    </section>

    <!-- Featured Books Grid -->
    <section class="featured py-12 px-6 bg-gray-50 dark:bg-gray-800">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-8">Featured Books</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            @foreach (var book in Model.FeaturedBooks)
            {
                <div class="bg-white dark:bg-gray-700 rounded-xl shadow transition transform
                            hover:-translate-y-1 hover:shadow-lg overflow-hidden flex flex-col">
                    <img src="@book.CoverImageUrl" alt="@book.Title cover" class="h-64 w-full object-cover" />
                    <div class="p-5 flex flex-col flex-grow">
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-1">@book.Title</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4 flex-grow">@book.Author</p>
                        <div class="mt-auto flex items-center justify-between">
                            <span class="text-xl font-bold text-amber-600">@book.Price.ToString("C")</span>
                            <a asp-controller="Books" asp-action="Details" asp-route-id="@book.Id"
                               class="text-sm font-medium text-white bg-[var(--brand-color)] hover:bg-[var(--brand-color-hover)]
                                      px-4 py-2 rounded transition-colors">
                                Details
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </section>
</div>
